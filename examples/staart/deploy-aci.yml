variables:
  dockerId: staart  # Replace with your Docker ID for Docker Hub or the admin user name for the Azure Container Registry
  startProxyImageName: staart_proxy  # Replace with the name of the image you want to publish
  dockerPassword: ENScgkUYL4bR+abTrtXCpvYGThJvtZ76

steps:
- script: |
    echo 'build starting!'
    cd examples/staart
    echo pwd
    docker build -t $(dockerId).azurecr.io/$(startProxyImageName) .
    docker login -u staart -p ENScgkUYL4bR+abTrtXCpvYGThJvtZ76 staart.azurecr.io
    # docker login -u $(dockerId) -p $(pswd) $(dockerId).azurecr.io
    docker push staart.azurecr.io/staart_proxy
    # docker push $(dockerId).azurecr.io/$(startProxyImageName)
  env:
    pswd: $(dockerPassword)        # Define dockerPassword in the Variables tab of this pipeline in Pipelines page of web interface